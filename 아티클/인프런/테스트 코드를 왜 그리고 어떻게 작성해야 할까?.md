## 아티클 링크

https://tech.inflab.com/20230404-test-code/
## 세줄 요약

- 테스트를 왜 작성해야하나?
- 테스트의 종류
- 테스트 코드의 장점

## 내용

### 서론

대부분의 신입 개발자들은 테스트 코드를 작성하는 것에 공감을 못하고 , 효과를 보지 못합니다.
테스트 코드를 작성해야 하는 이유와 잘 작성하는 방법에 대해 얘기해볼 예정입니다.

### 왜 작성해야 하는가?
#### 1. 디버깅 비용 절감

사실 , 개발자는 요구사항에 대한 기능 개발 시간은 전체 비중에서 많은 비중을 차지하지 않는다.
->
완벽한 애플리케이션이라도 내결함성이 존재하고 결함이 발생할 수 있다!
->
기능에 대한 버그는 항시 발생하고 , 해결을 위해 디버깅을 꾸준히 할 수 밖에 없다.

테스트 코드를 통해 , 오류를 줄일 수 있고 빠르게 대처할 수 있는 내성이 생긴다!

##### 테스트 종류
![500*500](https://i.imgur.com/Gq6YhCe.png)

- 유닛 테스트 : 도메인 모델 과 비즈니스 로직 테스트 , 가장 작은 단위의 코드 & 알고리즘 테스트
- 통합 테스트 : 코드의 주요 흐름을 통합적 테스트해 주요 외부 의존성에 대해 테스트
- e2e 테스트 : 최종 사용자 흐름에 대한 테스트 , 외부 요청부터 응답까지 기능 잘 동작하는지 테스트


테스트 코드를 구간별로 경계함에 따라서 , 문제가 되는 코드 범위와 케이스를 빠르게 파악 및 수정 가능! 
=> 결함을 최소화시켜 디버깅에 소모되는 시간을 줄여들게 함
	+ 서비스 개발자가 비즈니스 로직에 집중하며 생산성 향상에 도움을 줌

#### 2. 코드 변경에 대한 불안감 해소

	버그를 고쳤는데 또 다른 곳에서 버그가 발생하네?
=> 회귀 버그
##### 회귀 버그
이전에 제대로 작동하던 소프트웨어 기능에 문제가 생기는 것
-> 대부분 프로그램 변경 중 , 뜻하지 않게 발생!

##### why?
- 애플리케이션에서 기능은 단일 하나 요소로 이루어지지 않는다!
	-> 여러 요소가 서로 상호작용하고 협력해 만들어짐.
=> 하나의 기능을 수정하는게 단순히 해당 기능에만 영향을 끼치는게 아니다!!
=> 완전 차단 및 예방은 불가능하다.

##### ∴ 회귀 테스트를 해야만 한다!

- 회귀 테스트는 기능 추가 & 오류 수정 인해 새롭게 유입되는 오류가 없는지 검증
	( 인프런 프로젝트는 테스트가 수 천개가 있다고 한다... )

- 테스트 코드는 그때 당시 기능 만들기 위해 필요한 코드가 아니다.
1. 요구사항이 변경되어 기존 코드 수정해야할 시
2. 더 나은 코드를 위해 리팩토링 해야할 시
=> 서비스가 지속 가능 발전하기 위해 반드시 필요한 코드!

#### 3. 더 나은 문서 자료

좋은 코드를 작성하기 위해 잘 읽히고 & 가독성 좋은 코드를 작성하려고 노력합니다.

서비스 복잡도가 늘어남에 따라 , 코드의 양이 많아지고 코드의 복잡도 역시 높아짐!

복잡한 요구사하이 중첩된 기능들은 신규 입사자들이 코드 이해하는데 많은 불편함을 겪게 함.

=> 필연적으로 , 문서화는 쉽게 방치될 수 밖에 없음
##### why?
문서와 코드를 같은 유지 보수 대상으로 보기는 어려움 ( 문서는 완벽해야 하고 , 두개를 분리하기 어려워서 )
-> 거리감을 느껴 관리 대상으로서 쉽게 제외되기 때문에 신뢰하기 어려워짐

=> 테스트 코드가 문서의 역활을 해줌!

명세에서 실제 동작을 기술함으로써 , 코드가 어떤 역활을 가졌는지 이해하는데 도움을 줄 수 있습니다.
( EX : 기존에 중복된 메일이 있는 경우 회원가입을 할 수 없습니다. )
	-> 기능과 코드를 이해하는 데 도움을 준다.

#### 4. 좋은 코드는 테스트하기 쉽다.

##### 좋은 코드란?
- "변경하기 쉬운" 코드
- 약한 결합도를 가지고 있는 코드
	( 강결합이 되어 있는 코드는 유지비용이 증감되는 저품질 코드! )

##### 강결합?
외부의 영향을 받는 코드
내부적으로 의존성을 가지는 코드
변경에 유연하게 대응하지 못하고 재사용하기 어려운 코드
모듈 간 클래스 간 서로 밀접하게 연결되 있는 코드

테스트 하기 쉬운 코드가 모두 좋은 코드는 아니다!
-> 하지만 , 작성한 코드가 테스트하기 어려운 코드라면 냄새나는 코드일 가능성이 높다는 결론에 도달!!

#### 5. 테스트 자동화

개발자는 필연적으로 , 실제 운영 환경에 배포될 때 불안감에 휩싸임

"내가 작성한 코드가 정상적으로 동작할까?"
"내가 작성한 코드로 인해 다른 부분에서 오류가 생기지 않을까?"

와 같은 생각들에 불안감이 점점 커져간다.

---

자동화 테스트를 통해 CI 에서 작성한 테스트 코드로 버그 배포를 방지할 수 있다!
변경에 대한 내성 과 회귀 버그 역시 CI 에서 확인 가능!
	-> 소프트웨어 품질 또한 높여줌
=> 테스트 코드가 존재함으로써 안정감 있는 우리의 모습을 볼 수 있다! 😄

## 결론

- 테스트 코드는 단순 버그 찾고 수정 방지가 아니라 , 전체 개발 프로세스의 효율성 & 안전성을 향상 시키는 것!!
- 위의 장점 다섯가지들을 잘 기억하자.


## 참고 링크



##### Writed By Obisidan