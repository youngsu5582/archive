---
tags:
  - 리팩토링
테크톡_링크: https://www.youtube.com/watch?v=mNPpfB8JSIU
테크톡_발표자: 마틴 파울러
---
### Little-Pickup Refactoring

보이 스카우트 룰
항상 이전처럼 깨끗한 상태 유지

모든 걸 완전히 깨끗하게 할 필요 X 
-> 할 수 있는 만큼 하는게 중요

( 개발자는 적어도 이전보다는 깨끗하게 만들어 나가자 - 언젠가 대부분 코드가 깨끗해짐 )

### Comprehension Refactoring

코드가 이해가 안간다면?

결국 분해하고 하나씩 확인해나가야 한다

이해를 했다 하더라도? 그것은 결국 자신의 머릿속에 존재
-> 이것은 파편화 되어 있고 , 동료와 공유할 수 없다

리팩토링을 수행해 자신의 머릿속에 있는 로직을 코드에 녹여내자
-> 다른 사람들도 어떻게 동작하는지 명확하게 알 수 있다

=>  이해하기 위한 리팩토링

---

이 둘은 결국 매우 유사하다 - 역겨운 코드를 보는 경우이므로

( 이상한 코드를 봤을 때와 이해하기 어려운 코드를 봤을때만 나뉘어짐 )

역겨운 코드를 봤다면?

-> 당장 고쳐야 하는지? 판단하자 ( 새로운 기능을 추가해야할 수도 있음 )


내가 지금 하는 일에 영향 받지 않고 쉽고 빠르게 고칠 수 있는가? - 메소드 , 변수 명 등등
-> 당장에 고치자 Why Not!

고치는데 시간이 오래걸리지는 않는가?
-> 좀더 고민해보자

RED 단계에는 어떻게든 테스트를 GREEN 으로 바꿔야 함
-> 그 후에야만 리팩토링을 가능하게 하자

- 결국 리팩토링 시점을 정하는 건 매우 중요하다 ( 그렇기에 , 범위 역시 적절히 정하는게 중요 하다 )

### Preparatory

새로운 기능 구현 및 추가는 사실 어렵지 않다

하지만 , 기존과 다른 구조가 될 수 있다

-> 이는 장기적 SW 설계 과정에서 느낄수 있는 문제점

( 어제 짰을때는 괜찮아 보였는데? )

=> 준비를 위한 리팩토링

새로운 코드 구현 중 코드가 적절하지 않다고 생각이 드면
리팩토링을 시작해야 하고 , 리팩토링 통해 코드를 정리해야함

리팩토링 후 코드를 구현해야한다 - 신규 기능 개발을 멈출줄 알아야 한다

위 세가지가 가장 자주 사용된다
### Planned Refactoring

리팩토링을 프로젝트 중간이 끼워 넣어 실행 ( 많은 양의 코드를 짤 때 사용 )

매번 깨끗한 코드를 유지하게 해준다

=> 계획된 리팩토링

리팩토링 할 시점이 명확하고 , 개발자가 수행할 작업 중 하나

역량이 좋은 팀은 구지..? - 작은 기능 짤때마다 쪼개는게 오히려 더 비효율적일수 있음

> 마틴 파울러는 별로 좋아하지 않는다 ( 위 세가지 선호 )

### Long-Term Refactoring

리팩토링의 핵심은 결국 , 시간을 많이 걸려서는 안된다는 것이다

코드 가지고 일을 하다 보면 , 큰 덩어리 수정을 마주칠 수 있다 ( 복잡한 의존도 등등 .. )

위 세자리 리팩토링을 사용해 적용하자

- 코드를 어떻게 고쳐야 하는지 명확한 비전을 가지고 있어야 함

특정 목표에 도달하도록 , 조금씩 리팩토링을 해나가야 함 - 마지막 리팩토링이 끝날 때 까지

궁극적인 CD ( Continuous Delivery )

핵심은 최대한 작은 단위로 리팩토링을 수행해나가자

---

#### Design Stamina Hypothesis

SW 설계에 신경쓰지 않으면 , 
가면 갈수록 개발 속도가 현저히 떨어지게 된다

SW 설계에 신경을 쓰면 ,
새로운 기능 개발하는 것은 변경 해야할 모듈 찾고 코드 변경 & 적용하면 되는 것

=> 개발자는 언제나 올바른 방향을 추구해야 한다

리팩토링에 대해 이야기 할 때

- Quality
- Clean Code
- Professionalism
- Right Thing

이들을 말한건 이미 망함 - 무시해도 OK

리팩토링에 대해 이야기 할때는
Economics(경제성) 을 이야기 해나가자

결국 개발자가 하는 모든 것들이 더 많은 기능을 더 빠르게 적용하기 위함

-> 결국 장기간을 보면 리팩토링이 기간을 더욱 단축시켜준다

