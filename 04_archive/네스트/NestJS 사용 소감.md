---
tags:
  - 네스트
아티클_링크: https://medium.com/naverfinancial/nestjs-%EC%82%AC%EC%9A%A9-%EC%86%8C%EA%B0%90-f851527f7922
아티클_작성자: 주도현
---
## 내용

### 개요
- 2009 년 Node.js 발표에 따라 , Javascript 생태계가 급속도 발전 시작
- 빠른 개발 속도로 인한 높은 생산성을 강점으로 Server-side 환경에서도 활발히 사용
- 과부하 ( CPU Intensive ) 요구하지 않은 API 기능 용도는 다른 플랫폼과 비교해도 밀리지 않음.

### Koa?
- 소속 개발팀은 주로 , Koa + Typescript 조합을 사용한 백엔드 서버 구축
- Koa 의 높은 자유도 & 간결성은 작은 기능 서버 빠르게 개발 시 강점 부각
- 기능이 점점 늘어나고 복잡해지며 , 자유도가 오히려 구조 파편화 및 , 코드 스타일 복잡화 발생
- 코드 컨벤션 결정 및 유지 에 고민 과 시간이 늘어나버림
=> Nest.js 를 시범적 도입 해보기로 결정

### Nest 로 전환하며
#### 장점
- 기존 Framework 들과 다르게 , Spring Framework 와 상당히 유사함
	=> 다만 , 기반 서버 플랫폼 ( Express , Fastify ) 대한 지식 & 의존 라이브러리 ( rxjs , jest 등 ) 대한 기본 지식이 있어야 사용 수월함.
- Koa -> NestJs 로 옮기므로 , 많은 변경에 의한 사이드 이펙트가 생기지 않도록 많은 고려
	=> 자동화된 e2e Test & 단위 테스트가 어느정도 구축 되어 있었기에 전환 작업 완료
- 매우 다양한 Class Decorator 존재
	=> koa 는 모든거 Middleware 로 구현 했었음 ( 단순함이 장점이자 곧 단점 ! )
	=> 목적에 따라 기능 및 구조 세분화 ( Controller , Pipe , Guard , Interceptor 등등 )
- 모듈 이용해 기능 단위 컴포넌트 구분 가능
	=> JS 환경에서 , 코드 캡슐화 및 무분별 의존 관계 제어에 도움 받음
	=> DI 를 통해 , 테스트 시 Mock 주입에 수월한 구조
	
#### 단점
- 사용만으로 , 좋은 설계 구조 어플리케이션이 만들어 지는 것은 아님
	=> Module 하나에 모든 것을 다 넣어도 동작 가능
	=> 요청 진입시 전처리 로직을 Guard 로 하든 , Interceptor 로 하든 구현 가능
	=> 더 나은 구조로 변경에 대해 고민하는 시간 필요!
- Fastify 플랫폼에 미숙한 지원
	=> Express 에 비해 , 공식 문서 설명 부족
	=> Middleware 구현시 , Fastify Request Reply 가 아닌 , NodeJS 의 객체 전달 ( 일관성 부족 )
	=> ExceptionFilter 구현시 , res.render() 가 동작하지 않는 문제 발견
## 결론
- 그래도 , 자잘한 부분에 대한 고민을 없애고 편리함을 제공받는 프레임워크
- 은탄환은 없다. ( 상황 마다 적절한 선택이 존재하기에 , 개발자로서 최선의 선택을 할 수 있는 안목과 실력을 키우자 )
=> 발전이 기대되는 프레임워크 ( Node.js 백엔드 개발 환경에 좋은 선택지 )

## 참고 링크